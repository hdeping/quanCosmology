[TOC]

# 初识git

​	这篇文章曾经写在实验室论坛，如我所料，没引起什么重视。但我认为，git的重要性是超出IT界的。有必要的话，任何一个用计算机工作的人都应该学一学。无论你是用计算机来写文字，绘画，做ppt，或者是别的事情，版本管理都是必要的。git，是用于版本管理的极好工具。



## git的现状    

​	在世界范围内，众多IT技术公司已经广泛使用git进行代码和文档的管理。作为一种代码版本管理的工具，事实上git的使用范畴已经不局限于代码版本管理。github（基于git的代码托管平台）上已经有大量开源文档的项目，还有诸如gitbook这种管理书籍的工具。git已经逐渐演变为一种项目管理的工具。



​	相对于工业界已经开始广泛使用，学术界的使用并没有那么普及。当然这里并没有做过详细的调查， 仅凭借个人有限的观察。在我们实验室，代码管理十分粗放。具体表现为代码风格因人而异，代码注释全看心情， 代码版本依靠文件夹手动管理，代码的使用依靠口口相传，每个人的代码相互隔离，互相之间看不到， 学生毕业之后，代码也是人走茶凉。



​	代码是一方面，事实上文章也是可以使用git进行管理的， 无论是lyx还是tex都是纯文本文件。总的来说，git是为了解决以下几个常见的痛点：  

a.) 代码或文档版本太多，难以管理 ；

b.) 代码或者文档误删除，没有及时保存 ；

c.) 代码修改历史难以追溯；

d.) 多个人共同完成一个代码或者文档，每个人的工作需要手动整理合并。

​	代码是有生命周期的，诸多代码在写成的那一刻已经宣告死亡，没有足够注释，没有充分说明的文档， 还没有没有修改历史，这样的代码过几个月连作者都看不懂。



​	git解决了修改历史的保存问题，让代码可以 被追溯，每一次代码版本的提交都需要有一段文字描述，这本身就是个注释，对于延长代码的生命周期 是有好处的。通过git中的一些命令，我们还可以根据需求创建分支，在分支中添加新代码，新函数，开发完成 后合并到主分支（master）当中，在主分支中可以清楚地看到整个代码的演化历史。   



​	决定开始使用git才是最困难的，这意味着改变自己的习惯，修改代码或者文档之后的第一件事情是，提交修改。具体的操作方法网络上有各种教程。git的详细使用方法可以参考廖雪峰的网站：  https://www.liaoxuefeng.com/wiki/896043488029600。关于git完整的说明可以查看git官方网站上的教程： https://git-scm.com/doc

## Why Git

  	Git是分布式的，比svn那样的中心化管理的工具更方便使用，代码的保存也更加安全。
同样，由于git的分布式特性，git是多人协同开发的不二之选。以IT人的情怀项目Linux内核为例，
目前的5.4版本，从05年至今，一共有了超过87万次提交，提交代码的人数超过2.7万人，这么大
的项目没有像git这样的工具在做支撑是不可能推进得这么快的。深度学习领域也是，文章在arxiv上
发表，代码在github上发布，还有像pytorch、tensorflow这样的框架通过git、github这样的工具和平台，
快速地往前演进。

   	git有这么多好处，但是可能有人会说，这跟我有什么关系？我又不跟别人协作，我自己一个人写代码，
一个人调bug，修改历史对我来说没有意义。事实上真的是这样吗？万一改错了我想退到之前的版本怎么
办？重写呀，或者我用很多文件夹的方式管理代码？万一本地硬盘坏了，或者代码误删了怎么办？重写呀！
年轻的岁月就被耗在了这里。事实上，哪怕就一个人也是需要合作的。首先，尽量复用代码是提升效率的有效
方式，这就要求需要花几个月或者几年时间维护同一段代码，这本质上是现在的自己和未来的自己的协作。
有点玄学，但是事实如此，从一个侧面上可以看出这种合理性，代码尤其是c、c++的代码，如果没有充分
的注释和文档，过三个月连自己都看不懂，这跟别人的代码有何分别。其次，我们很可能会在不同的电脑上
维护同一段代码，我们想在自己的笔记本电脑和台式机，甚至远程服务器上同时维护自己的代码，这个时候
有git这样的工具将会非常方便。

## How Git

  git的使用教程有非常多，推荐看看progit这本书（https://git-scm.com/book/zh/v2/，
内含多种语言的版本，包括中文）。关于git的一个概括性介绍，可以归纳为三个数字，
456，也就是，4个区域，5个状态以及6个步骤。

### 4个区域

work, stage , local repository, remote repository
work 工作区
stage 暂存区
local repository 本地仓库区
remote repository 远程仓库区

### 5个状态

Untracked, unmodified, modified, staged, commited
Untracked 未追踪，表示文件未被git记录
unmodified 未修改
modified  已更改
staged 已暂存 更改记录放到暂存区
commited 已提交，更改记录提交到仓库中

### 6个步骤 

Git clone/init —> status —> add /commit —> log/shortlog/reflog —> push/pull —> branch /checkout/merge
git clone/init  克隆远程仓库或者初始化一个新的git目录
git status  查看文件状态
git add/commit  添加更改和提交记录
git log/shortlog/reflog  查看记录
git push/pull  推送和拉取远程仓库
git branch/checkout/merge 用于分支的创建、切换和合并



​	git是一个多人协作的工作（虽然一个人用也是可以的），如果可以在实验室推广开，就目前所知可以做以下几个事情：

1. 形成实验室的代码库   

   ​	有了git，这个事 不一定能成，但是会方便很多。这个事应该分成几步走，先是用git 管理代码，然后对需要重用的代码进行评审、测试和编写文档，形成 libncl_particle.so、libncl_reaction_diffusion.so之类的库，供实验室所有人使用。 

2.  形成实验室的文献库   

   ​	所有人可以共同维护同一个bib，或者几个bib，必要的话可以管理文献（文件管理可以有其他方式，比如ftp）

3.  形成实验室的成果库   

   ​	所有人的文章都放在一个个仓库下，这些都带有历史记录信息， 我们可以清楚地看到文章是怎么一点点写出来的。这对于作者自 己写文章有好处，可以知道自己每次的修改；对于新人学习写文 章更是有好处，可以看到文章从无到有的全过程，而不仅仅是看到最 后的成品。同理，ppt也可以git管理，历史记录信息是最好的学习材料。  事实上，git的使用并不算简单，最难的地方在于转变思路，工具的使用可以熟能生巧。







# 攒机趣事
这篇文章写于2016年8月，那时候刚转配完成一台台式机。所有零部件都是在网上购买的。

好长时间没有使用windows，好些功能简单到要哭。相比之下，linux简直不是人用的系统。不过，另外一些方面，windows也是跟渣一样。到处都是广告，下载一个程序他会胡乱地给你安装各种各样其他程序，还是很喜欢linux底下干净的样子。

这三天时间都在寝室里过的（除了昨天晚上去实验室之外），台式机总算彻底安装完成。现在的系统是win8.1，安装了印象笔记。电脑版的印象笔记还是第一次使用，感觉不错，有好多想法想要写出来。这几天一直没有好好地找个时间去写，现在就是个很好的机会，先总结一下这几天装机的心得。 

七月三十一号在淘宝上买的东西，森海塞尔的耳机，i5-4590的cpu，gtx950的显卡（colorful），24英寸曲屏的显示屏。八月一号，在京东上买的其他配件，诸如机箱，电源，散热器，主板，机械硬盘，固态硬盘，内存。八月二号，零配件全部到齐。刚开始就遇到了一个尴尬的事情。散热器上有导热膏，不小心被我摸到手了，还好没有什么影响。这么多零配件基本上是手忙脚乱。上网看了大量视频，一边看一边自己动手总算把流程摸透。但是显示器和独立显卡一直有问题，不知道哪里出了差错。中途曾经出现过一种情况，机箱给的螺丝钉跟主板底座螺丝不配套。于是卸掉底座，但是这样的话底盘太低，螺丝没法全部拧上。这时候已经是凌晨十二点过后，暂时先不管独立显卡的事情，先安装系统。最开始安装的是win10系统。后来因为设置的问题，字体变得很大，而且无法跳回去。于是安装成win8系统。这个时候，显卡的问题还没有解决，已经是
凌晨三点多。 

八月三号睡到十一点，直到下午三点多才去吃了一份麻辣香锅，面对着显示屏一无所获，于是跑到实验室拆电脑，顺便把之前剩下的新散热器安装到实验室电脑上，同时也清理一下灰尘，毕竟这台电脑已经使用三年了，快到了寿终正寝的时候，cpu是i3，主板略小，显卡更是可怜，显示屏连个HDMI接口都没有。拆这台电脑得心应手，组装的时候只花了不到二十分钟时间，但是我还没有得到我想要的答案，于是又接连拆了两台实验室电脑，看到实验室工具箱里多余的螺丝钉，突发奇想，寝室的主板有救了，配留个合适的螺丝钉没有问题。



看到实验的gpu主机吓了一跳，两个cpu卡槽，最高64G内存拓展，显卡是今年的最新款gtx1080，显卡顶端有绿色清晰的GeForce字样，开机的时候闪闪发光，整个机箱硕大笨重我想我已经大概搞清楚了主板应该如何正确安装，显卡应该如何正确使用。凌晨一点回到寝室，马上把主机拆开，麻利地取出主板，把六个底座螺丝重新插上（其中一个尺寸有问题，后来才发现），主板安装上，显卡终于安装上（由于显卡的输出接口一侧底部有超出显卡的部分，要求主板离地一段距离，之前卸掉了底座螺丝因而显卡安装得很畸形）但是显示器一直不亮，这个时候已经两点多，果断放弃了，准备醒来之后继续。没能睡着，一直看手机到凌晨五点多，天已经亮了，看向窗外，朝霞满天，我想，睡吧！



八月四号一直睡到十二点多，起床之后整个人迷迷糊糊，凌乱地看了几篇微信文章，看完前哨又听了一些得到上订阅专栏，痛定思痛拆开机箱重新再来。先做主板测试，拆掉机箱的所有线路，连上主板电源和cpu电源，（之前已经发现显示器不亮是因为cpu风扇接口没有连好，着实吓了一跳，开机好几次，风扇一直不转，幸亏没有怎么发热，不然把cpu给烧坏那可就损失大了），短路开机针脚，显示器顺利打开，然后装上显卡，视频线插入显卡，显示器顺利打开，但是提示说显卡没有插上电源，这时候我就已经知道显卡也是没有问题的，只是我之前连接的是cpu集显的视频输出接口。独立显卡没有派上用场 。

